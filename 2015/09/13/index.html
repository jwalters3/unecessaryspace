<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>AT&amp;T Mobile App Hackathon and Results - Unnecessary Space
    </title>
    <link rel="alternate" href="http://unnecessary.space/feed.xml" type="application/rss+xml" title="Random terrible thoughts on everything.">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <h1>AT&amp;T Mobile App Hackathon and Results</h1>
        <p class="author">Written by <span class="author"><a href="mailto:jwalters@jeffw.in">Jeff Walters</a></span>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>I participated in <span class="caps">AT</span>&amp;T’s mobile app hackathon and my team ended up winning “Best App From a Women Led Team” as a part of Team Little&nbsp;Librarian.</p>
<p><span class="more"></span></p>
<p>Team Little librarian formed to find a modern solution to keeping track of the content to <a href="http://littlefreelibrary.org/">little free libraries</a> 
and create an IoT solution for them. In the scope of the hackathon we decided to build a mobile app
and a hardware&nbsp;solution.  </p>
<h3 id="mobile-app">Mobile&nbsp;App</h3>
<p>We started with a mobile app written in <a href="https://touch.sencha.com">Sencha Touch</a>.  The app presents
you with the locations of libraries. You can select each item on the map to find more info on each
of these libraries. All of the data comes from the salesforce api (lol) that the the little free libary
website pulls it’s info&nbsp;from.  </p>
<p><img src="/articles/attmobilehackathon15/landing.jpg" alt="landing page"> </p>
<p><img src="/articles/attmobilehackathon15/library.jpg" alt="library info"></p>
<p>From there we set out to track the books in the library. To do this we used <span class="caps">AT</span>&amp;T’s <a href="https://m2x.att.com/">m2x</a> iot platform.
Where we employed a novel concept of making the books devices in the cloud and the mobile app the
communication platform that tells the cloud where the devices are sent.  Interestingly we were able
to implement this better than we initially thought and tracked books in the app without spinning up
a database for ourselves.  To identify books by their isbn’s we brought in google books’ api and
used that for cover images as&nbsp;well.  </p>
<p><img src="/articles/attmobilehackathon15/books.jpg" alt="book list page"></p>
<h3 id="hardware">Hardware</h3>
<p>The hardware solution used <a href="http://lowpowerlab.com/moteino/">monteinos</a>, a arduino clone with a built-in <span class="caps">RF</span> module. We used a simple magnetic door
sensor to discover when the door to the libray was opened the node monteino would send an encrypted
message to the gateway monteino.  Using the RFM69 library sending that message was as easy&nbsp;as:</p>
<pre><code class="lang-c">    <span class="comment">// if the button state has changed:</span>
    <span class="keyword">if</span> (reading != buttonState) {

      buttonState = reading;
        <span class="keyword">if</span> (buttonState == <span class="caps">HIGH</span>) {
            Serial.print(<span class="string">"Sending["</span>);
            Serial.print(<span class="number">6</span>);
            Serial.print(<span class="string">"]: "</span>);
            <span class="keyword">for</span>(byte i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)
              Serial.print((<span class="keyword">char</span>)openPayload[i]);

            <span class="keyword">if</span> (radio.sendWithRetry(<span class="caps">GATEWAYID</span>, openPayload, <span class="number">6</span>))
              Serial.print(<span class="string">" ok!"</span>);
            <span class="keyword">else</span> Serial.print(<span class="string">" nothing..."</span>);
            Serial.println();
            Blink(<span class="caps">LED</span>,<span class="number">30</span>,<span class="number">3</span>);
        } <span class="keyword">else</span> {
            Serial.print(<span class="string">"Sending["</span>);
            Serial.print(<span class="number">7</span>);
            Serial.print(<span class="string">"]: "</span>);
            <span class="keyword">for</span>(byte i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)
              Serial.print((<span class="keyword">char</span>)closePayload[i]);

            <span class="keyword">if</span> (radio.sendWithRetry(<span class="caps">GATEWAYID</span>, closePayload, <span class="number">7</span>))
              Serial.print(<span class="string">" ok!"</span>);
            <span class="keyword">else</span> Serial.print(<span class="string">" nothing..."</span>);
            Serial.println();
            Blink(<span class="caps">LED</span>,<span class="number">30</span>,<span class="number">3</span>);
        }

        <span class="comment">// set the <span class="caps">LED</span>:</span>
        digitalWrite(<span class="caps">LED</span>, buttonState);
    }
</code></pre>
<p>On the other end we had another gateway monteino attached to a small computer (raspberry pi)
running a python script waiting for messages on the serial port.  When the message for open would
come it would send a request to m2x updating the&nbsp;status.  </p>
<p>Pretty neat stuff… We were able to make a nearly complete solution using a wide range of
technologies in under 24 hours.  The complete source is on&nbsp;github. </p>
<p>-Jeff</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/">« Full blog</a></div>
        <section class="about"><p>At somepoint I’m going to put something meaningful here.</p>

        </section>
        <section class="copy">
          <p>&copy; 2015 Jeff Walters &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-66696942-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>